p8105_hw2_yg2964
================
2024-10-01

Name:Yuchen Gu

# Problem 1

## Section 1 Import and clean the data

``` r
nyc_subway_entrances <- read_csv("data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv",
  col_types = cols(Route8 = "c", Route9 = "c", Route10 = "c", Route11 = "c")) |> 
  janitor::clean_names() |> 
  select(line, station_name, station_latitude, station_longitude, 
    starts_with("route"), entry, vending, entrance_type, ada) |> 
  mutate(entry = case_match(entry, "YES" ~ TRUE, "NO" ~ FALSE, .default = NA))
```

This dataset contains information about NYC subway station entrances and
exits. The variables include line, station_name, station_latitude,
station_longitude, routes served (multiple columns starting with
“route”), entry (whether entry is allowed), vending (presence of vending
machines), entrance_type, and ada (ADA compliance). The data cleaning
steps involved selecting relevant columns, cleaning column names, and
converting the entry variable from character to logical. The resulting
dataset has 1868 rows and 19 columns. These data are not fully tidy, as
the route information is spread across multiple columns rather than
being in a single column.

## Section 2 Number of distinct stations:

``` r
n_distinct_stations <- nyc_subway_entrances |> 
  distinct(line,station_name) |> 
  nrow()
```

There are 465 distinct stations.

## Section 3 Number of ADA compliant stations:

``` r
n_ada_stations <- nyc_subway_entrances |> 
  filter(ada == TRUE) |> 
  distinct(line, station_name) |> 
  nrow()
```

There are 84 ADA compliant stations.

## Section 4 Proportion of station entrances/exits without vending that allow entrance:

``` r
prop_no_vending_entry <- nyc_subway_entrances |> 
  filter (vending == "NO") |> 
  summarize(prop_entry = mean (entry, na.rm = TRUE)) |> 
  pull(prop_entry)
```

The proportion of station entrances/exits without vending that allow
entrance is 0.3770492.

## Section 5 Reformatting data for route analysis:

``` r
nyc_subway2 <- nyc_subway_entrances |> 
  pivot_longer(cols = starts_with("route"),
    names_to = "route_number",
    values_to = "route_name",
    values_drop_na = TRUE) |> 
  distinct(line, station_name, route_name, .keep_all = TRUE)

a_train_stations <- nyc_subway2 |> 
  filter(route_name == "A") |> 
  distinct(line, station_name) |> 
  nrow()

a_train_ada_stations <- nyc_subway2 |> 
  filter(route_name == "A", ada == TRUE) |> 
  distinct(line, station_name) |> 
  nrow()
```

There are 60 distinct stations that serve the A train. Of these, 17 are
ADA compliant.

# Problem 2

## Section 1: Import and clean the data

### For Mr.Trash Wheel:

``` r
library(readxl)
library(tidyverse)

mr_trash_wheel <- read_excel("data/202409 Trash Wheel Collection Data.xlsx",
  sheet = "Mr. Trash Wheel",
  range = cell_cols("A:N"),
  skip = 1) |>
  janitor::clean_names() |>
  filter(!is.na(dumpster)) |>
  mutate(sports_balls = as.integer(round(sports_balls)),trash_wheel = "Mr. Trash Wheel")
```

### For Professor Trash Wheel:

``` r
professor_trash_wheel <- read_excel("data/202409 Trash Wheel Collection Data.xlsx",
  sheet = "Professor Trash Wheel",
  range = cell_cols("A:M"),
  skip = 1) |>
  janitor::clean_names() |>
  filter(!is.na(dumpster)) |>
  mutate(trash_wheel = "Professor Trash Wheel")
```

### For Gwynnda:

``` r
gwynnda <- read_excel("data/202409 Trash Wheel Collection Data.xlsx",
  sheet = "Gwynnda Trash Wheel",
  range = cell_cols("A:L"),
  skip = 1) |>
  janitor::clean_names() |>
  filter(!is.na(dumpster)) |>
  mutate(trash_wheel = "Gwynnda")
```

## Section 2: Data Combination:

``` r
# For Mr. Trash Wheel
mr_trash_wheel <- mr_trash_wheel |>
  mutate(year = as.numeric(year))

# For Professor Trash Wheel
professor_trash_wheel <- professor_trash_wheel |>
  mutate(year = as.numeric(year))

# For Gwynnda
gwynnda <- gwynnda |>
  mutate(year = as.numeric(year))

# Now combine the datasets
trash_wheel_data <- bind_rows(mr_trash_wheel, professor_trash_wheel, gwynnda)
```

## Section 3: Data Description and Analysis

``` r
# Calculate total weight of trash collected by Professor Trash Wheel
total_weight_professor <- professor_trash_wheel |>
  summarize(total_weight = sum(weight_tons, na.rm = TRUE)) |>
  pull(total_weight)

# Calculate total number of cigarette butts collected by Gwynnda in June 2022
gwynnda_cig_butts_june_2022 <- gwynnda |>
  filter(year == 2022, month == "June") |>
  summarize(total_cig_butts = sum(cigarette_butts, na.rm = TRUE)) |>
  pull(total_cig_butts)

total_weight_professor <- total_weight_professor
gwynnda_cig_butts_june_2022 <- gwynnda_cig_butts_june_2022
```

The combined trash wheel dataset contains 1033 observations across three
different trash wheels: Mr. Trash Wheel, Professor Trash Wheel, and
Gwynnda. This dataset has 15 columns. Key variables include dumpster,
month, year, date, weight_tons, volume_cubic_yards, and specific types
of trash such as plastic_bottles, polystyrene, cigarette_butts,
glass_bottles, plastic_bags, and wrappers. Additional variables include
homes_powered, which estimates the number of homes that could be powered
by the collected trash. The trash_wheel variable distinguishes between
the three sources. This comprehensive dataset spans multiple years,
offering insights into trash collection efforts in the Baltimore harbor.
Professor Trash Wheel collected a total of 246.74 tons of trash since
its inception. In a specific timeframe, Gwynnda collected 18,120
cigarette butts in June 2022 alone.

# Problem 3

## Section 1:Import and clean data

### 1.1 Bakers Data
